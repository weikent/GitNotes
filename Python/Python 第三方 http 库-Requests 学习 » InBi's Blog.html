<!DOCTYPE html>
<!-- saved from url=(0147)http://www.itwhy.org/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/python/python-%E7%AC%AC%E4%B8%89%E6%96%B9-http-%E5%BA%93-requests-%E5%AD%A6%E4%B9%A0.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>  Python 第三方 http 库-Requests 学习 » InBi's Blog</title>
<meta name="keywords" content="Python WEB编程, Python网络编程, WEB测试, ">
<meta name="description" content="Python 第三方 http 库-Requests 学习">
<link rel="stylesheet" href="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/style.css" type="text/css" media="screen">
<!-- <link rel="stylesheet" href="http://www.itwhy.org/wp-content/themes/fluid-blue/print.css" type="text/css" media="print" /> -->
<link rel="alternate" type="application/rss+xml" title="InBi&#39;s Blog RSS Feed" href="http://www.itwhy.org/feed">
<link rel="pingback" href="http://www.itwhy.org/xmlrpc.php">
<link rel="alternate" type="application/rss+xml" title="InBi&#39;s Blog » Python 第三方 http 库-Requests 学习评论Feed" href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/python-%e7%ac%ac%e4%b8%89%e6%96%b9-http-%e5%ba%93-requests-%e5%ad%a6%e4%b9%a0.html/feed">
<link rel="stylesheet" id="jquery.fancybox-css" href="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/jquery.fancybox.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/pagenavi-css.css" type="text/css" media="all">
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/jquery.js"></script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/jquery.fancybox.js"></script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/jquery.easing.js"></script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/comment-reply.min.js"></script>
<link rel="prev" title="[转] Python写的功能强大的 cp" href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/%e8%bd%ac-python%e5%86%99%e7%9a%84%e5%8a%9f%e8%83%bd%e5%bc%ba%e5%a4%a7%e7%9a%84-cp.html">
<link rel="next" title="Flask-SQLAlchemy 学习" href="http://www.itwhy.org/%e6%95%b0%e6%8d%ae%e5%ba%93/flask-sqlalchemy-%e5%ad%a6%e4%b9%a0.html">
<link rel="canonical" href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/python-%e7%ac%ac%e4%b8%89%e6%96%b9-http-%e5%ba%93-requests-%e5%ad%a6%e4%b9%a0.html">
<link rel="shortlink" href="http://www.itwhy.org/?p=539">
<link rel="stylesheet" type="text/css" href="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<!-- begin SI CAPTCHA Anti-Spam - comment form style --><style type="text/css">div#captchaImgDiv { display:block; }.captchaSizeDivSmall { width:175px; height:45px; padding-top:10px; }.captchaSizeDivLarge { width:250px; height:60px; padding-top:10px; }img#si_image_com,#si_image_reg,#si_image_log,#si_image_side_login { border-style:none; margin:0; padding-right:5px; float:left; }.captchaImgRefresh { border-style:none; margin:0; vertical-align:bottom; }div#captchaInputDiv { display:block; padding-top:15px; padding-bottom:5px; }label#captcha_code_label { margin:0; }input#captcha_code { width:65px; }</style><!-- end SI CAPTCHA Anti-Spam - comment form style --><style>#haloword-pron { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -34px; }#haloword-pron:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -34px; }#haloword-open { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -17px; }#haloword-open:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -17px; }#haloword-close { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px 0; }#haloword-close:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px 0; }#haloword-add { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -51px; }#haloword-add:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -51px; }#haloword-remove { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -94px -68px; }#haloword-remove:hover { background: url(chrome-extension://bhkcehpnnlgncpnefpanachijmhikocj/img/icon.svg) -111px -68px; }</style></head>
<body><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="http://www.itwhy.org/" title="InBi&#39;s Blog: 自强 厚德 开放 进取">InBi's Blog</a></h1>
		<p>自强 厚德 开放 进取</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="http://www.itwhy.org/">
<input type="text" size="20" name="s" id="s" value="搜索..." onblur="if(this.value==&#39;&#39;) this.value=&#39;搜索...&#39;;" onfocus="if(this.value==&#39;搜索...&#39;) this.value=&#39;&#39;;">
</form>
	</div> 
	<!-- Search ends here-->
</div>
<div id="navbar">
<ul id="nav">
	<li><a href="http://www.itwhy.org/">首页</a></li>
	</ul>
</div>
<div id="wrapper">

	<div id="content">

			
		<div class="navigation">
			<div class="alignleft">« <a href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/%e8%bd%ac-python%e5%86%99%e7%9a%84%e5%8a%9f%e8%83%bd%e5%bc%ba%e5%a4%a7%e7%9a%84-cp.html" rel="prev">[转] Python写的功能强大的 cp</a></div>
			<div class="alignright"><a href="http://www.itwhy.org/%e6%95%b0%e6%8d%ae%e5%ba%93/flask-sqlalchemy-%e5%ad%a6%e4%b9%a0.html" rel="next">Flask-SQLAlchemy 学习</a> »</div>
		</div>

		<div class="post" id="post-539">
			<h2 class="posttitle"><a href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/python-%e7%ac%ac%e4%b8%89%e6%96%b9-http-%e5%ba%93-requests-%e5%ad%a6%e4%b9%a0.html" rel="bookmark" title="Permanent Link to Python 第三方 http 库-Requests 学习">Python 第三方 http 库-Requests 学习</a></h2>
			<div class="postmetadata">2013 年 10 月 16 日, 22:10 <!-- by InBi's Blog --></div>
			<div class="postentry">
				<p>Requests 是用Python语言编写，基于 urllib，采用 Apache2 Licensed 开源协议的 HTTP 库。它比 urllib 更加方便，可以节约我们大量的工作，完全满足 HTTP 测试需求。Requests 的哲学是以 PEP 20 的习语为中心开发的，所以它比 urllib 更加 Pythoner。更重要的一点是它支持 Python3 哦！</p>
<ul>
<li>Beautiful is better than ugly.(美丽优于丑陋)</li>
<li>Explicit is better than implicit.(清楚优于含糊)</li>
<li>Simple is better than complex.(简单优于复杂)</li>
<li>Complex is better than complicated.(复杂优于繁琐)</li>
<li>Readability counts.(重要的是可读性)</li>
</ul>
<p><span id="more-539"></span></p>
<h4>一、安装 Requests</h4>
<p>通过pip安装</p>
<div><div id="highlighter_647197" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">$ pip </code><code class="bash functions">install</code> <code class="bash plain">requests</code></div></div></td></tr></tbody></table></div></div>
<p>或者，下载代码后安装：</p>
<div><div id="highlighter_234562" class="syntaxhighlighter  bash"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">$ git clone git:</code><code class="bash plain">//github</code><code class="bash plain">.com</code><code class="bash plain">/kennethreitz/requests</code><code class="bash plain">.git</code></div><div class="line number2 index1 alt1"><code class="bash plain">$ </code><code class="bash functions">cd</code> <code class="bash plain">requests</code></div><div class="line number3 index2 alt2"><code class="bash plain">$ python setup.py </code><code class="bash functions">install</code></div></div></td></tr></tbody></table></div></div>
<p>再懒一点，通过IDE安装吧，如pycharm！</p>
<h4>二、发送请求与传递参数</h4>
<p>先来一个简单的例子吧！让你了解下其威力：</p>
<div><div id="highlighter_260722" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(url</code><code class="python keyword">=</code><code class="python string">'http://www.itwhy.org'</code><code class="python plain">)&nbsp;&nbsp;&nbsp; </code><code class="python comments"># 最基本的GET请求</code></div><div class="line number4 index3 alt1"><code class="python keyword">print</code><code class="python plain">(r.status_code)&nbsp;&nbsp;&nbsp; </code><code class="python comments"># 获取返回状态</code></div><div class="line number5 index4 alt2"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(url</code><code class="python keyword">=</code><code class="python string">'http://dict.baidu.com/s'</code><code class="python plain">, params</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'wd'</code><code class="python plain">:</code><code class="python string">'python'</code><code class="python plain">})&nbsp;&nbsp; </code><code class="python comments">#带参数的GET请求</code></div><div class="line number6 index5 alt1"><code class="python functions">print</code><code class="python plain">(r.url)</code></div><div class="line number7 index6 alt2"><code class="python functions">print</code><code class="python plain">(r.text)&nbsp;&nbsp; </code><code class="python comments">#打印解码后的返回数据</code></div></div></td></tr></tbody></table></div></div>
<p>很简单吧！不但GET方法简单，其他方法都是统一的接口样式哦！</p>
<blockquote><p>requests.get(‘https://github.com/timeline.json’)        #GET请求<br>
requests.post(“http://httpbin.org/post”)                #POST请求<br>
requests.put(“http://httpbin.org/put”)                  #PUT请求<br>
requests.delete(“http://httpbin.org/delete”)            #DELETE请求<br>
requests.head(“http://httpbin.org/get”)                 #HEAD请求<br>
requests.options(“http://httpbin.org/get”)              #OPTIONS请求</p></blockquote>
<p>PS：以上的HTTP方法，对于WEB系统一般只支持 GET 和 POST，有一些还支持 HEAD 方法。<br>
带参数的请求实例：</p>
<div><div id="highlighter_49754" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1"><code class="python plain">requests.get(</code><code class="python string">'http://www.dict.baidu.com/s'</code><code class="python plain">, params</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'wd'</code><code class="python plain">: </code><code class="python string">'python'</code><code class="python plain">})&nbsp;&nbsp;&nbsp; </code><code class="python comments">#GET参数实例</code></div><div class="line number3 index2 alt2"><code class="python plain">requests.post(</code><code class="python string">'http://www.itwhy.org/wp-comments-post.php'</code><code class="python plain">, data</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'comment'</code><code class="python plain">: </code><code class="python string">'测试POST'</code><code class="python plain">})&nbsp;&nbsp;&nbsp; </code><code class="python comments">#POST参数实例</code></div></div></td></tr></tbody></table></div></div>
<p>POST发送JSON数据：</p>
<div><div id="highlighter_38466" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1"><code class="python keyword">import</code> <code class="python plain">json</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.post(</code><code class="python string">'https://api.github.com/some/endpoint'</code><code class="python plain">, data</code><code class="python keyword">=</code><code class="python plain">json.dumps({</code><code class="python string">'some'</code><code class="python plain">: </code><code class="python string">'data'</code><code class="python plain">}))</code></div><div class="line number5 index4 alt2"><code class="python functions">print</code><code class="python plain">(r.json())</code></div></div></td></tr></tbody></table></div></div>
<p>定制header：</p>
<div><div id="highlighter_649989" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1"><code class="python keyword">import</code> <code class="python plain">json</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python plain">data </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python string">'some'</code><code class="python plain">: </code><code class="python string">'data'</code><code class="python plain">}</code></div><div class="line number5 index4 alt2"><code class="python plain">headers </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python string">'content-type'</code><code class="python plain">: </code><code class="python string">'application/json'</code><code class="python plain">,</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'User-Agent'</code><code class="python plain">: </code><code class="python string">'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:22.0) Gecko/20100101 Firefox/22.0'</code><code class="python plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.post(</code><code class="python string">'https://api.github.com/some/endpoint'</code><code class="python plain">, data</code><code class="python keyword">=</code><code class="python plain">data, headers</code><code class="python keyword">=</code><code class="python plain">headers)</code></div><div class="line number9 index8 alt2"><code class="python functions">print</code><code class="python plain">(r.text)</code></div></div></td></tr></tbody></table></div></div>
<h4>三、Response对象</h4>
<p>使用requests方法后，会返回一个response对象，其存储了服务器响应的内容，如上实例中已经提到的 r.text、r.status_code……<br>
获取文本方式的响应体实例：当你访问 r.text 之时，会使用其响应的文本编码进行解码，并且你可以修改其编码让 r.text 使用自定义的编码进行解码。</p>
<div><div id="highlighter_70370" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(</code><code class="python string">'http://www.itwhy.org'</code><code class="python plain">)</code></div><div class="line number2 index1 alt1"><code class="python functions">print</code><code class="python plain">(r.text, </code><code class="python string">'\n{}\n'</code><code class="python plain">.</code><code class="python functions">format</code><code class="python plain">(</code><code class="python string">'*'</code><code class="python keyword">*</code><code class="python value">79</code><code class="python plain">), r.encoding)</code></div><div class="line number3 index2 alt2"><code class="python plain">r.encoding </code><code class="python keyword">=</code> <code class="python string">'GBK'</code></div><div class="line number4 index3 alt1"><code class="python functions">print</code><code class="python plain">(r.text, </code><code class="python string">'\n{}\n'</code><code class="python plain">.</code><code class="python functions">format</code><code class="python plain">(</code><code class="python string">'*'</code><code class="python keyword">*</code><code class="python value">79</code><code class="python plain">), r.encoding)</code></div></div></td></tr></tbody></table></div></div>
<p>其他响应：</p>
<blockquote><p>r.status_code   #响应状态码<br>
r.raw           #返回原始响应体，也就是 urllib 的 response 对象，使用 r.raw.read() 读取<br>
r.content       #字节方式的响应体，会自动为你解码 gzip 和 deflate 压缩<br>
r.text          #字符串方式的响应体，会自动根据响应头部的字符编码进行解码<br>
r.headers       #以字典对象存储服务器响应头，但是这个字典比较特殊，字典键不区分大小写，若键不存在则返回None<br>
#*特殊方法*#<br>
r.json()            #Requests中内置的JSON解码器<br>
r.raise_for_status()  #失败请求(非200响应)抛出异常</p></blockquote>
<p>案例之一：</p>
<div><div id="highlighter_838017" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">URL </code><code class="python keyword">=</code> <code class="python string">'http://ip.taobao.com/service/getIpInfo.php'</code>&nbsp; <code class="python comments"># 淘宝IP地址库API</code></div><div class="line number4 index3 alt1"><code class="python keyword">try</code><code class="python plain">:</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(URL, params</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'ip'</code><code class="python plain">: </code><code class="python string">'8.8.8.8'</code><code class="python plain">}, timeout</code><code class="python keyword">=</code><code class="python value">1</code><code class="python plain">)</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">r.raise_for_status()&nbsp;&nbsp;&nbsp; </code><code class="python comments"># 如果响应状态码不是 200，就主动抛出异常</code></div><div class="line number7 index6 alt2"><code class="python keyword">except</code> <code class="python plain">requests.RequestException as e:</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">print</code><code class="python plain">(e)</code></div><div class="line number9 index8 alt2"><code class="python keyword">else</code><code class="python plain">:</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">result </code><code class="python keyword">=</code> <code class="python plain">r.json()</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">print</code><code class="python plain">(</code><code class="python functions">type</code><code class="python plain">(result), result, sep</code><code class="python keyword">=</code><code class="python string">'\n'</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div>
<h4>四、上传文件</h4>
<p>使用 Requests 模块，上传文件也是如此简单的，文件的类型会自动进行处理：</p>
<div><div id="highlighter_25597" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">url </code><code class="python keyword">=</code> <code class="python string">'http://127.0.0.1:5000/upload'</code></div><div class="line number4 index3 alt1"><code class="python plain">files </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python string">'file'</code><code class="python plain">: </code><code class="python functions">open</code><code class="python plain">(</code><code class="python string">'/home/lyb/sjzl.mpg'</code><code class="python plain">, </code><code class="python string">'rb'</code><code class="python plain">)}</code></div><div class="line number5 index4 alt2"><code class="python comments">#files = {'file': ('report.jpg', open('/home/lyb/sjzl.mpg', 'rb'))}&nbsp;&nbsp;&nbsp;&nbsp; #显式的设置文件名</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.post(url, files</code><code class="python keyword">=</code><code class="python plain">files)</code></div><div class="line number8 index7 alt1"><code class="python functions">print</code><code class="python plain">(r.text)</code></div></div></td></tr></tbody></table></div></div>
<p>更加方便的是，你可以把字符串当着文件进行上传：</p>
<div><div id="highlighter_821270" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">url </code><code class="python keyword">=</code> <code class="python string">'http://127.0.0.1:5000/upload'</code></div><div class="line number4 index3 alt1"><code class="python plain">files </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python string">'file'</code><code class="python plain">: (</code><code class="python string">'test.txt'</code><code class="python plain">, b</code><code class="python string">'Hello Requests.'</code><code class="python plain">)}&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="python comments">#必需显式的设置文件名</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.post(url, files</code><code class="python keyword">=</code><code class="python plain">files)</code></div><div class="line number7 index6 alt2"><code class="python functions">print</code><code class="python plain">(r.text)</code></div></div></td></tr></tbody></table></div></div>
<h4>五、身份验证</h4>
<p>基本身份认证(HTTP Basic Auth):</p>
<div><div id="highlighter_864528" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1"><code class="python keyword">from</code> <code class="python plain">requests.auth </code><code class="python keyword">import</code> <code class="python plain">HTTPBasicAuth</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(</code><code class="python string">'https://httpbin.org/hidden-basic-auth/user/passwd'</code><code class="python plain">, auth</code><code class="python keyword">=</code><code class="python plain">HTTPBasicAuth(</code><code class="python string">'user'</code><code class="python plain">, </code><code class="python string">'passwd'</code><code class="python plain">))</code></div><div class="line number5 index4 alt2"><code class="python comments"># r = requests.get('https://httpbin.org/hidden-basic-auth/user/passwd', auth=('user', 'passwd'))&nbsp;&nbsp;&nbsp; # 简写</code></div><div class="line number6 index5 alt1"><code class="python functions">print</code><code class="python plain">(r.json())</code></div></div></td></tr></tbody></table></div></div>
<p>另一种非常流行的HTTP身份认证形式是摘要式身份认证，Requests对它的支持也是开箱即可用的:</p>
<div><div id="highlighter_551994" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">requests.get(URL, auth</code><code class="python keyword">=</code><code class="python plain">HTTPDigestAuth(</code><code class="python string">'user'</code><code class="python plain">, </code><code class="python string">'pass'</code><code class="python plain">))</code></div></div></td></tr></tbody></table></div></div>
<h4>六、Cookies与会话对象</h4>
<p>如果某个响应中包含一些Cookie，你可以快速访问它们：</p>
<div><div id="highlighter_693910" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(</code><code class="python string">'http://www.google.com.hk/'</code><code class="python plain">)</code></div><div class="line number4 index3 alt1"><code class="python keyword">print</code><code class="python plain">(r.cookies[</code><code class="python string">'NID'</code><code class="python plain">])</code></div><div class="line number5 index4 alt2"><code class="python functions">print</code><code class="python plain">(</code><code class="python functions">tuple</code><code class="python plain">(r.cookies))</code></div></div></td></tr></tbody></table></div></div>
<p>要想发送你的cookies到服务器，可以使用 cookies 参数：</p>
<div><div id="highlighter_947419" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">url </code><code class="python keyword">=</code> <code class="python string">'http://httpbin.org/cookies'</code></div><div class="line number4 index3 alt1"><code class="python plain">cookies </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python string">'testCookies_1'</code><code class="python plain">: </code><code class="python string">'Hello_Python3'</code><code class="python plain">, </code><code class="python string">'testCookies_2'</code><code class="python plain">: </code><code class="python string">'Hello_Requests'</code><code class="python plain">}</code></div><div class="line number5 index4 alt2"><code class="python comments"># 在Cookie Version 0中规定空格、方括号、圆括号、等于号、逗号、双引号、斜杠、问号、@，冒号，分号等特殊符号都不能作为Cookie的内容。</code></div><div class="line number6 index5 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">requests.get(url, cookies</code><code class="python keyword">=</code><code class="python plain">cookies)</code></div><div class="line number7 index6 alt2"><code class="python functions">print</code><code class="python plain">(r.json())</code></div></div></td></tr></tbody></table></div></div>
<p>会话对象让你能够跨请求保持某些参数，最方便的是在同一个Session实例发出的所有请求之间保持cookies，且这些都是自动处理的，甚是方便。<br>
下面就来一个真正的实例，如下是快盘签到脚本：</p>
<div><div id="highlighter_366476" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">import</code> <code class="python plain">requests</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python plain">headers </code><code class="python keyword">=</code> <code class="python plain">{</code><code class="python string">'Accept'</code><code class="python plain">: </code><code class="python string">'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'</code><code class="python plain">,</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'Accept-Encoding'</code><code class="python plain">: </code><code class="python string">'gzip, deflate, compress'</code><code class="python plain">,</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'Accept-Language'</code><code class="python plain">: </code><code class="python string">'en-us;q=0.5,en;q=0.3'</code><code class="python plain">,</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'Cache-Control'</code><code class="python plain">: </code><code class="python string">'max-age=0'</code><code class="python plain">,</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'Connection'</code><code class="python plain">: </code><code class="python string">'keep-alive'</code><code class="python plain">,</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python string">'User-Agent'</code><code class="python plain">: </code><code class="python string">'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:22.0) Gecko/20100101 Firefox/22.0'</code><code class="python plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="python plain">s </code><code class="python keyword">=</code> <code class="python plain">requests.Session()</code></div><div class="line number11 index10 alt2"><code class="python plain">s.headers.update(headers)</code></div><div class="line number12 index11 alt1"><code class="python comments"># s.auth = ('superuser', '123')</code></div><div class="line number13 index12 alt2"><code class="python plain">s.get(</code><code class="python string">'https://www.kuaipan.cn/account_login.htm'</code><code class="python plain">)</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="python plain">_URL </code><code class="python keyword">=</code> <code class="python string">'http://www.kuaipan.cn/index.php'</code></div><div class="line number16 index15 alt1"><code class="python plain">s.post(_URL, params</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'ac'</code><code class="python plain">:</code><code class="python string">'account'</code><code class="python plain">, </code><code class="python string">'op'</code><code class="python plain">:</code><code class="python string">'login'</code><code class="python plain">},</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">data</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'username'</code><code class="python plain">:</code><code class="python string">'****@foxmail.com'</code><code class="python plain">, </code><code class="python string">'userpwd'</code><code class="python plain">:</code><code class="python string">'********'</code><code class="python plain">, </code><code class="python string">'isajax'</code><code class="python plain">:</code><code class="python string">'yes'</code><code class="python plain">})</code></div><div class="line number18 index17 alt1"><code class="python plain">r </code><code class="python keyword">=</code> <code class="python plain">s.get(_URL, params</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'ac'</code><code class="python plain">:</code><code class="python string">'zone'</code><code class="python plain">, </code><code class="python string">'op'</code><code class="python plain">:</code><code class="python string">'taskdetail'</code><code class="python plain">})</code></div><div class="line number19 index18 alt2"><code class="python functions">print</code><code class="python plain">(r.json())</code></div><div class="line number20 index19 alt1"><code class="python plain">s.get(_URL, params</code><code class="python keyword">=</code><code class="python plain">{</code><code class="python string">'ac'</code><code class="python plain">:</code><code class="python string">'common'</code><code class="python plain">, </code><code class="python string">'op'</code><code class="python plain">:</code><code class="python string">'usersign'</code><code class="python plain">})</code></div></div></td></tr></tbody></table></div></div>
<h4>七、超时与异常</h4>
<p>timeout 仅对连接过程有效，与响应体的下载无关。</p>
<div><div id="highlighter_776637" class="syntaxhighlighter  python"><table border="0" cellpadding="0" cellspacing="0"><caption>Code example:</caption><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">&gt;&gt;&gt; requests.get(</code><code class="python string">'http://github.com'</code><code class="python plain">, timeout</code><code class="python keyword">=</code><code class="python value">0.001</code><code class="python plain">)</code></div><div class="line number2 index1 alt1"><code class="python plain">Traceback (most recent call last):</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python functions">File</code> <code class="python string">"&lt;stdin&gt;"</code><code class="python plain">, line </code><code class="python value">1</code><code class="python plain">, </code><code class="python keyword">in</code> <code class="python plain">&lt;module&gt;</code></div><div class="line number4 index3 alt1"><code class="python plain">requests.exceptions.Timeout: HTTPConnectionPool(host</code><code class="python keyword">=</code><code class="python string">'github.com'</code><code class="python plain">, port</code><code class="python keyword">=</code><code class="python value">80</code><code class="python plain">): Request timed out. (timeout</code><code class="python keyword">=</code><code class="python value">0.001</code><code class="python plain">)</code></div></div></td></tr></tbody></table></div></div>
<p>所有Requests显式抛出的异常都继承自 requests.exceptions.RequestException：ConnectionError、HTTPError、Timeout、TooManyRedirects。</p>
<p style="text-align: right;">更多高级功能请访问官方网站手册：http://cn.python-requests.org/en/latest/</p>
							</div>
	
			<div class="postmetadata">
				<div class="postmetadata">
					标签：<a href="http://www.itwhy.org/tag/python-web%e7%bc%96%e7%a8%8b" rel="tag">Python WEB编程</a>, <a href="http://www.itwhy.org/tag/python%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b" rel="tag">Python网络编程</a>, <a href="http://www.itwhy.org/tag/web%e6%b5%8b%e8%af%95" rel="tag">WEB测试</a><br>					Category: <a href="http://www.itwhy.org/category/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python" title="查看Python中的全部文章" rel="category tag">Python</a>					&nbsp;|&nbsp;&nbsp;<a href="http://www.itwhy.org/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/python/python-%E7%AC%AC%E4%B8%89%E6%96%B9-http-%E5%BA%93-requests-%E5%AD%A6%E4%B9%A0.html#respond">Comment</a> (<a href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/python-%e7%ac%ac%e4%b8%89%e6%96%b9-http-%e5%ba%93-requests-%e5%ad%a6%e4%b9%a0.html/feed">RSS</a>)					&nbsp;|&nbsp;&nbsp;<a href="http://www.itwhy.org/%e8%bd%af%e4%bb%b6%e5%b7%a5%e7%a8%8b/python/python-%e7%ac%ac%e4%b8%89%e6%96%b9-http-%e5%ba%93-requests-%e5%ad%a6%e4%b9%a0.html/trackback" rel="trackback">Trackback</a>					<br>
<script type="text/javascript">
/*468*15，创建于2013-4-5*/
var cpro_id = "u1253090";
(window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id] = { xuanting: 1 };
</script>
<script src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u1253090_0" width="728px" height="90px" style="width: 728px; height: 90px; display: inline-block; z-index: 2147483646;"><iframe id="cproIframe_u1253090" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/acom.html" width="728" height="90" align="center,center" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true"></iframe></div><script charset="utf-8" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/acom"></script>
				 </div>
			</div>
		</div>
	
<!-- You can start editing here. -->

<div id="comments">


			<!-- If comments are open, but there are no comments. -->

	 



<div id="respond">

<h3>Leave a Reply</h3>

<div class="cancel-comment-reply">
	<small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.itwhy.org/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/python/python-%E7%AC%AC%E4%B8%89%E6%96%B9-http-%E5%BA%93-requests-%E5%AD%A6%E4%B9%A0.html#respond" style="display:none;">点击这里取消回复。</a></small>
</div>


<form action="http://www.itwhy.org/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1">
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2">
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3">
<label for="url"><small>Website</small></label></p>

<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></small></p>-->
<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea><div id="captchaImgDiv">

<div class="captchaSizeDivLarge"><img id="si_image_com" class="si-captcha" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/securimage_show.php" width="175" height="60" alt="验证图片" title="验证图片">
    <input id="si_code_com" name="si_code_com" type="hidden" value="lvM0nqzgPcHZy4mx">
    <div id="si_refresh_com">
<a href="http://www.itwhy.org/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/python/python-%E7%AC%AC%E4%B8%89%E6%96%B9-http-%E5%BA%93-requests-%E5%AD%A6%E4%B9%A0.html#" rel="nofollow" title="刷新验证码" onclick="si_captcha_refresh(&#39;si_image_com&#39;,&#39;com&#39;,&#39;/wp-content/plugins/si-captcha-for-wordpress/captcha&#39;,&#39;http://www.itwhy.org/wp-content/plugins/si-captcha-for-wordpress/captcha/securimage_show.php?si_form_id=com&amp;prefix=&#39;); return false;">
      <img class="captchaImgRefresh" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/refresh.png" width="22" height="20" alt="刷新验证码" onclick="this.blur();"></a>
  </div>
  </div>
<div id="captchaInputDiv"><input id="captcha_code" name="captcha_code" type="text" value="" tabindex="4">
 <label id="captcha_code_label" for="captcha_code">验证码</label><span class="required">*</span>
 </div>
</div></p>


      <script type="text/javascript">
          var sUrlInput = document.getElementById("comment");
                  var oParent = sUrlInput.parentNode;
          var sSubstitue = document.getElementById("captchaImgDiv");
                  oParent.appendChild(sSubstitue, sUrlInput);
      </script>
            <noscript>
          &lt;style type='text/css'&gt;#submit {display:none;}&lt;/style&gt;&lt;br /&gt;           &lt;input name="submit" type="submit" id="submit-alt" tabindex="6" value="提交" /&gt;
          </noscript>
  <p><input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment"></p>
<input type="hidden" name="comment_post_ID" value="539" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">

</form>

</div>
</div>


	
	</div>

	<div id="sidebar">
		<ul>
			
			<li id="categories-3" class="widget widget_categories"><h2 class="widgettitle">分类目录</h2>
<select name="cat" id="cat" class="postform">
	<option value="-1">选择分类目录</option>
	<option class="level-0" value="11">Linux</option>
	<option class="level-0" value="73">Network</option>
	<option class="level-0" value="67">Windows</option>
	<option class="level-0" value="6">数据库</option>
	<option class="level-0" value="1">未分类</option>
	<option class="level-0" value="4">职业生涯</option>
	<option class="level-0" value="38">软件工程</option>
	<option class="level-1" value="21">&nbsp;&nbsp;&nbsp;Java</option>
	<option class="level-1" value="30">&nbsp;&nbsp;&nbsp;JavaScript</option>
	<option class="level-1" value="8">&nbsp;&nbsp;&nbsp;Python</option>
	<option class="level-1" value="53">&nbsp;&nbsp;&nbsp;WEB</option>
	<option class="level-1" value="13">&nbsp;&nbsp;&nbsp;版本管理</option>
	<option class="level-1" value="42">&nbsp;&nbsp;&nbsp;理论与实践</option>
	<option class="level-0" value="2">软件测试</option>
	<option class="level-1" value="41">&nbsp;&nbsp;&nbsp;单元测试</option>
	<option class="level-1" value="15">&nbsp;&nbsp;&nbsp;性能测试</option>
	<option class="level-1" value="39">&nbsp;&nbsp;&nbsp;测试理论</option>
	<option class="level-1" value="40">&nbsp;&nbsp;&nbsp;黑盒测试</option>
</select>

<script type="text/javascript">
/* <![CDATA[ */
	var dropdown = document.getElementById("cat");
	function onCatChange() {
		if ( dropdown.options[dropdown.selectedIndex].value > 0 ) {
			location.href = "http://www.itwhy.org/?cat="+dropdown.options[dropdown.selectedIndex].value;
		}
	}
	dropdown.onchange = onCatChange;
/* ]]> */
</script>

</li>
<li id="archives-2" class="widget widget_archive"><h2 class="widgettitle">文章归档</h2>
		<select name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;"> <option value="">选择月份</option> 	<option value="http://www.itwhy.org/2014/03"> 2014年三月 </option>
	<option value="http://www.itwhy.org/2014/02"> 2014年二月 </option>
	<option value="http://www.itwhy.org/2014/01"> 2014年一月 </option>
	<option value="http://www.itwhy.org/2013/11"> 2013年十一月 </option>
	<option value="http://www.itwhy.org/2013/10"> 2013年十月 </option>
	<option value="http://www.itwhy.org/2013/09"> 2013年九月 </option>
	<option value="http://www.itwhy.org/2013/08"> 2013年八月 </option>
	<option value="http://www.itwhy.org/2013/07"> 2013年七月 </option>
	<option value="http://www.itwhy.org/2013/06"> 2013年六月 </option>
	<option value="http://www.itwhy.org/2013/05"> 2013年五月 </option>
	<option value="http://www.itwhy.org/2013/04"> 2013年四月 </option>
 </select>
</li>
<li id="text-2" class="widget widget_text">			<div class="textwidget"><script type="text/javascript">
/*200*200，创建于2013-4-5*/
var cpro_id = "u1253092";
</script>
<script src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u1253092_0"><iframe id="cproIframe_u1253092_2" width="200" height="250" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/acom(3).html" align="center,center" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true"></iframe></div><script charset="utf-8" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/acom(1)"></script></div>
		</li>
<li id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widgettitle">标签</h2>
<div class="tagcloud"><a href="http://www.itwhy.org/tag/ajax" class="tag-link-81" title="2个话题" style="font-size: 11.405405405405pt;">Ajax</a>
<a href="http://www.itwhy.org/tag/bug" class="tag-link-10" title="3个话题" style="font-size: 13.675675675676pt;">BUG</a>
<a href="http://www.itwhy.org/tag/eclipse" class="tag-link-23" title="1个话题" style="font-size: 8pt;">Eclipse</a>
<a href="http://www.itwhy.org/tag/flask" class="tag-link-68" title="10个话题" style="font-size: 22pt;">Flask</a>
<a href="http://www.itwhy.org/tag/htmlcss" class="tag-link-70" title="4个话题" style="font-size: 15.567567567568pt;">HTML/CSS</a>
<a href="http://www.itwhy.org/tag/javascript%e6%8a%80%e5%b7%a7" class="tag-link-51" title="3个话题" style="font-size: 13.675675675676pt;">JavaScript技巧</a>
<a href="http://www.itwhy.org/tag/java%e8%b0%83%e8%af%95" class="tag-link-48" title="2个话题" style="font-size: 11.405405405405pt;">Java调试</a>
<a href="http://www.itwhy.org/tag/jinja2" class="tag-link-71" title="1个话题" style="font-size: 8pt;">Jinja2</a>
<a href="http://www.itwhy.org/tag/json" class="tag-link-80" title="2个话题" style="font-size: 11.405405405405pt;">Json</a>
<a href="http://www.itwhy.org/tag/linux%e5%91%bd%e4%bb%a4" class="tag-link-25" title="2个话题" style="font-size: 11.405405405405pt;">Linux命令</a>
<a href="http://www.itwhy.org/tag/linux%e6%8a%80%e5%b7%a7" class="tag-link-46" title="9个话题" style="font-size: 21.243243243243pt;">Linux技巧</a>
<a href="http://www.itwhy.org/tag/linux%e6%95%85%e9%9a%9c" class="tag-link-45" title="6个话题" style="font-size: 18.405405405405pt;">Linux故障</a>
<a href="http://www.itwhy.org/tag/linux%e6%9c%8d%e5%8a%a1%e5%99%a8" class="tag-link-56" title="7个话题" style="font-size: 19.351351351351pt;">Linux服务器</a>
<a href="http://www.itwhy.org/tag/linux%e8%bd%af%e4%bb%b6" class="tag-link-72" title="3个话题" style="font-size: 13.675675675676pt;">Linux软件</a>
<a href="http://www.itwhy.org/tag/mysql" class="tag-link-7" title="3个话题" style="font-size: 13.675675675676pt;">MySql</a>
<a href="http://www.itwhy.org/tag/postgresql" class="tag-link-12" title="7个话题" style="font-size: 19.351351351351pt;">PostgreSql</a>
<a href="http://www.itwhy.org/tag/python-gui" class="tag-link-64" title="1个话题" style="font-size: 8pt;">Python GUI</a>
<a href="http://www.itwhy.org/tag/python-oop" class="tag-link-66" title="4个话题" style="font-size: 15.567567567568pt;">Python OOP</a>
<a href="http://www.itwhy.org/tag/python-web%e7%bc%96%e7%a8%8b" class="tag-link-69" title="9个话题" style="font-size: 21.243243243243pt;">Python WEB编程</a>
<a href="http://www.itwhy.org/tag/python%e5%9f%ba%e7%a1%80" class="tag-link-58" title="7个话题" style="font-size: 19.351351351351pt;">Python基础</a>
<a href="http://www.itwhy.org/tag/python%e5%ad%97%e7%ac%a6%e4%b8%b2" class="tag-link-47" title="3个话题" style="font-size: 13.675675675676pt;">Python字符串</a>
<a href="http://www.itwhy.org/tag/python%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6" class="tag-link-43" title="2个话题" style="font-size: 11.405405405405pt;">Python流程控制</a>
<a href="http://www.itwhy.org/tag/python%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b" class="tag-link-44" title="5个话题" style="font-size: 17.081081081081pt;">Python网络编程</a>
<a href="http://www.itwhy.org/tag/sqlite3" class="tag-link-59" title="2个话题" style="font-size: 11.405405405405pt;">SQLite3</a>
<a href="http://www.itwhy.org/tag/svn" class="tag-link-14" title="1个话题" style="font-size: 8pt;">SVN</a>
<a href="http://www.itwhy.org/tag/web%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" class="tag-link-54" title="1个话题" style="font-size: 8pt;">WEB性能优化</a>
<a href="http://www.itwhy.org/tag/web%e6%9c%8d%e5%8a%a1%e5%99%a8" class="tag-link-16" title="7个话题" style="font-size: 19.351351351351pt;">WEB服务器</a>
<a href="http://www.itwhy.org/tag/web%e6%b5%8b%e8%af%95" class="tag-link-28" title="5个话题" style="font-size: 17.081081081081pt;">WEB测试</a>
<a href="http://www.itwhy.org/tag/windows" class="tag-link-67" title="1个话题" style="font-size: 8pt;">Windows</a>
<a href="http://www.itwhy.org/tag/%e4%bb%a3%e7%a0%81style" class="tag-link-49" title="3个话题" style="font-size: 13.675675675676pt;">代码Style</a>
<a href="http://www.itwhy.org/tag/%e5%af%86%e7%a0%81%e9%87%8d%e7%bd%ae" class="tag-link-36" title="2个话题" style="font-size: 11.405405405405pt;">密码重置</a>
<a href="http://www.itwhy.org/tag/%e6%89%ab%e6%8f%8f%e7%bd%91%e7%bb%9c" class="tag-link-57" title="1个话题" style="font-size: 8pt;">扫描网络</a>
<a href="http://www.itwhy.org/tag/%e6%96%87%e4%bb%b6%e6%81%a2%e5%a4%8d" class="tag-link-52" title="1个话题" style="font-size: 8pt;">文件恢复</a>
<a href="http://www.itwhy.org/tag/%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f" class="tag-link-18" title="1个话题" style="font-size: 8pt;">正则表达式</a>
<a href="http://www.itwhy.org/tag/%e6%b5%8b%e8%af%95%e5%b7%a5%e5%85%b7" class="tag-link-63" title="4个话题" style="font-size: 15.567567567568pt;">测试工具</a>
<a href="http://www.itwhy.org/tag/%e6%b5%8b%e8%af%95%e6%8a%80%e5%b7%a7" class="tag-link-61" title="1个话题" style="font-size: 8pt;">测试技巧</a>
<a href="http://www.itwhy.org/tag/%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b" class="tag-link-3" title="2个话题" style="font-size: 11.405405405405pt;">测试用例</a>
<a href="http://www.itwhy.org/tag/%e6%b5%8f%e8%a7%88%e5%99%a8" class="tag-link-29" title="1个话题" style="font-size: 8pt;">浏览器</a>
<a href="http://www.itwhy.org/tag/%e7%99%bd%e7%9b%92%e6%b5%8b%e8%af%95" class="tag-link-60" title="1个话题" style="font-size: 8pt;">白盒测试</a>
<a href="http://www.itwhy.org/tag/%e7%9f%a5%e6%98%93%e8%a1%8c%e9%9a%be" class="tag-link-5" title="3个话题" style="font-size: 13.675675675676pt;">知易行难</a>
<a href="http://www.itwhy.org/tag/%e7%a8%8b%e5%ba%8f%e5%91%98" class="tag-link-17" title="3个话题" style="font-size: 13.675675675676pt;">程序员</a>
<a href="http://www.itwhy.org/tag/%e7%bf%bb%e5%a2%99" class="tag-link-65" title="1个话题" style="font-size: 8pt;">翻墙</a>
<a href="http://www.itwhy.org/tag/%e8%bd%af%e4%bb%b6%e6%b5%8b%e8%af%95%e5%b7%a5%e7%a8%8b%e5%b8%88" class="tag-link-37" title="2个话题" style="font-size: 11.405405405405pt;">软件测试工程师</a>
<a href="http://www.itwhy.org/tag/%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86" class="tag-link-26" title="1个话题" style="font-size: 8pt;">进程管理</a>
<a href="http://www.itwhy.org/tag/%e9%9c%80%e6%b1%82%e7%ae%a1%e7%90%86" class="tag-link-50" title="1个话题" style="font-size: 8pt;">需求管理</a></div>
</li>
<li id="text-4" class="widget widget_text">			<div class="textwidget"><script type="text/javascript">
/*160*600，创建于2013-4-21*/
var cpro_id = "u1267071";
</script>
<script src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u1267071_0"><iframe id="cproIframe_u1267071_3" width="160" height="600" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/acom(4).html" align="center,center" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true"></iframe></div><script charset="utf-8" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/acom(2)"></script></div>
		</li>
<li id="text-5" class="widget widget_text"><h2 class="widgettitle">酷站链接</h2>
			<div class="textwidget"><ul>
<li><a href="http://blog.chinaunix.net/uid/23069658.html" target="nw">wjlkoorey258 - Linux专家</a></li>
<li><a href="http://pyunit.sourceforge.net/pyunit_cn.html" target="nw">Python单元测试框架</a></li>
<li><a href="https://http//woodpecker.org.cn/" target="nw">啄木鸟社区</a></li>
<li><a href="https://bitbucket.org/" target="nw">bitbucket</a></li>
<li><a href="http://ecmascript.cn/" target="nw">ECMAScript</a></li>
<li><a href="http://my.oschina.net/Kenyon" target="nw">Kenyon - postgresql专家</a></li>
<li><a href="http://www.uml.org.cn/" target="nw">UML软件工程组织</a></li>
</ul></div>
		</li>
<li id="meta-2" class="widget widget_meta"><h2 class="widgettitle">功能</h2>
			<ul>
						<li><a href="http://www.itwhy.org/wp-login.php">登录</a></li>
			<li><a href="http://www.itwhy.org/feed" title="使用RSS 2.0订阅本站点内容">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.itwhy.org/comments/feed" title="使用RSS订阅本站点的所有文章的近期评论">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>						</ul>
</li>
		</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a target="_blank" href="http://www.itwhy.org/feed">Entries (RSS)</a> and <a target="_blank" href="http://www.itwhy.org/comments/feed">Comments (RSS)</a>. Valid <a target="_blank" href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.	Powered by <a target="_blank" href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a>. <a target="_blank" href="http://www.miitbeian.gov.cn/">粤ICP备11050255号-1</a>.<br>
	<!-- 26 queries. 0.133 seconds. -->
	<script type="text/javascript">
	jQuery(document).ready(function($){
		var select = $('a[href$=".bmp"],a[href$=".gif"],a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".BMP"],a[href$=".GIF"],a[href$=".JPG"],a[href$=".JPEG"],a[href$=".PNG"]');
		select.attr('rel', 'fancybox');
		select.fancybox();
	});
</script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/si_captcha.js"></script>
<script type="text/javascript">
//<![CDATA[
var si_captcha_styles = "\
<!-- begin SI CAPTCHA Anti-Spam - comment form style -->\
<style type='text/css'>\
div#captchaImgDiv { display:block; }\
.captchaSizeDivSmall { width:175px; height:45px; padding-top:10px; }\
.captchaSizeDivLarge { width:250px; height:60px; padding-top:10px; }\
img#si_image_com,#si_image_reg,#si_image_log,#si_image_side_login { border-style:none; margin:0; padding-right:5px; float:left; }\
.captchaImgRefresh { border-style:none; margin:0; vertical-align:bottom; }\
div#captchaInputDiv { display:block; padding-top:15px; padding-bottom:5px; }\
label#captcha_code_label { margin:0; }\
input#captcha_code { width:65px; }\
</style>\
<!-- end SI CAPTCHA Anti-Spam - comment form style -->\
";
jQuery(document).ready(function($) {
$('head').append(si_captcha_styles);
});
//]]>
</script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/shCore.js"></script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/shBrushBash.js"></script>
<script type="text/javascript" src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/shBrushPython.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://www.itwhy.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://www.itwhy.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '帮助';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = '无法找到Brush：';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush不能设置 html-script选项';
	SyntaxHighlighter.defaults['auto-links'] = false;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
</div>
</div> <!-- page -->
<script type="text/javascript">
	var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
	document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F7758b3b1061a2deb8dc75925b13b5e4a' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./Python 第三方 http 库-Requests 学习 » InBi's Blog_files/h.js" type="text/javascript"></script>

	
<div id="haloword-lookup" class="ui-widget-content ui-draggable"><div id="haloword-title"><span id="haloword-word"></span><a herf="#" id="haloword-pron" class="haloword-button" title="发音"></a><audio id="haloword-audio"></audio><div id="haloword-control-container"><a herf="#" id="haloword-add" class="haloword-button" title="加入单词表"></a><a herf="#" id="haloword-remove" class="haloword-button" title="移出单词表"></a><a href="http://www.itwhy.org/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/python/python-%E7%AC%AC%E4%B8%89%E6%96%B9-http-%E5%BA%93-requests-%E5%AD%A6%E4%B9%A0.html#" id="haloword-open" class="haloword-button" title="查看单词详细释义" target="_blank"></a><a herf="#" id="haloword-close" class="haloword-button" title="关闭查询窗"></a></div><br style="clear: both;"></div><div id="haloword-content"></div></div></body></html>